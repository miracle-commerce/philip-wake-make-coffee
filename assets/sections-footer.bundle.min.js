function e(e,t){this.container=function(e){if(!(e instanceof Element))throw new TypeError("Theme Sections: Attempted to load section. The section container provided is not a DOM element.");if(null===e.getAttribute("data-section-id"))throw new Error("Theme Sections: The section container provided does not have an id assigned to the data-section-id attribute.");return e}(e),this.id=e.getAttribute("data-section-id"),this.extensions=[],Object.assign(this,function(e){if(void 0!==e&&"object"!=typeof e||null===e)throw new TypeError("Theme Sections: The properties object provided is not a valid");return e}(t)),this.onLoad()}e.prototype={onLoad:Function.prototype,onUnload:Function.prototype,onSelect:Function.prototype,onDeselect:Function.prototype,onBlockSelect:Function.prototype,onBlockDeselect:Function.prototype,extend:function(e){this.extensions.push(e);var t=Object.assign({},e);delete t.init,Object.assign(this,t),"function"==typeof e.init&&e.init.apply(this)}},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},writable:!0,configurable:!0});window.Shopify=window.Shopify||{},window.Shopify.theme=window.Shopify.theme||{},window.Shopify.theme.sections=window.Shopify.theme.sections||{};var t=window.Shopify.theme.sections.registered=window.Shopify.theme.sections.registered||{},o=window.Shopify.theme.sections.instances=window.Shopify.theme.sections.instances||[];function i(e,i){e=c(e),void 0===i&&(i=document.querySelectorAll("[data-section-type]")),i=r(i),e.forEach((function(e){var n=t[e];void 0!==n&&(i=i.filter((function(t){return!(s(t).length>0)&&(null!==t.getAttribute("data-section-type")&&(t.getAttribute("data-section-type")!==e||(o.push(new n(t)),!1)))})))}))}function s(e){var t=[];if(NodeList.prototype.isPrototypeOf(e)||Array.isArray(e))var i=e[0];if(e instanceof Element||i instanceof Element)r(e).forEach((function(e){t=t.concat(o.filter((function(t){return t.container===e})))}));else if("string"==typeof e||"string"==typeof i){c(e).forEach((function(e){t=t.concat(o.filter((function(t){return t.type===e})))}))}return t}function n(e){for(var t,i=0;i<o.length;i++)if(o[i].id===e){t=o[i];break}return t}function c(o){return"*"===o?o=Object.keys(t):"string"==typeof o?o=[o]:o.constructor===e?o=[o.prototype.type]:Array.isArray(o)&&o[0].constructor===e&&(o=o.map((function(e){return e.prototype.type}))),o=o.map((function(e){return e.toLowerCase()}))}function r(e){return NodeList.prototype.isPrototypeOf(e)&&e.length>0?e=Array.prototype.slice.call(e):NodeList.prototype.isPrototypeOf(e)&&0===e.length||null===e?e=[]:!Array.isArray(e)&&e instanceof Element&&(e=[e]),e}window.Shopify.designMode&&(document.addEventListener("shopify:section:load",(function(e){var t=e.detail.sectionId,o=e.target.querySelector('[data-section-id="'+t+'"]');null!==o&&i(o.getAttribute("data-section-type"),o)})),document.addEventListener("shopify:section:unload",(function(e){var t=e.detail.sectionId,i=e.target.querySelector('[data-section-id="'+t+'"]');"object"==typeof s(i)[0]&&s(i).forEach((function(e){var t=o.map((function(e){return e.id})).indexOf(e.id);o.splice(t,1),e.onUnload()}))})),document.addEventListener("shopify:section:select",(function(e){var t=n(e.detail.sectionId);"object"==typeof t&&t.onSelect(e)})),document.addEventListener("shopify:section:deselect",(function(e){var t=n(e.detail.sectionId);"object"==typeof t&&t.onDeselect(e)})),document.addEventListener("shopify:block:select",(function(e){var t=n(e.detail.sectionId);"object"==typeof t&&t.onBlockSelect(e)})),document.addEventListener("shopify:block:deselect",(function(e){var t=n(e.detail.sectionId);"object"==typeof t&&t.onBlockDeselect(e)})));const a=function(){var e="[data-disclosure-form]",t="[data-disclosure-list]",o="[data-disclosure-toggle]",i="[data-disclosure-input]",s="[data-disclosure-option]",n="opacity-100",c="z-10";function r(e){this.container=e,this._cacheSelectors(),this._setupListeners()}return r.prototype=Object.assign({},r.prototype,{_cacheSelectors:function(){this.cache={disclosureForm:this.container.closest(e),disclosureList:this.container.querySelector(t),disclosureToggle:this.container.querySelector(o),disclosureInput:this.container.querySelector(i),disclosureOptions:this.container.querySelectorAll(s)}},_setupListeners:function(){this.eventHandlers=this._setupEventHandlers(),this.cache.disclosureToggle.addEventListener("click",this.eventHandlers.toggleList),this.cache.disclosureOptions.forEach((function(e){e.addEventListener("click",this.eventHandlers.connectOptions)}),this),this.container.addEventListener("keyup",this.eventHandlers.onDisclosureKeyUp),this.cache.disclosureList.addEventListener("focusout",this.eventHandlers.onDisclosureListFocusOut),this.cache.disclosureToggle.addEventListener("focusout",this.eventHandlers.onDisclosureToggleFocusOut),document.body.addEventListener("click",this.eventHandlers.onBodyClick)},_setupEventHandlers:function(){return{connectOptions:this._connectOptions.bind(this),toggleList:this._toggleList.bind(this),onBodyClick:this._onBodyClick.bind(this),onDisclosureKeyUp:this._onDisclosureKeyUp.bind(this),onDisclosureListFocusOut:this._onDisclosureListFocusOut.bind(this),onDisclosureToggleFocusOut:this._onDisclosureToggleFocusOut.bind(this)}},_connectOptions:function(e){e.preventDefault(),this._submitForm(e.currentTarget.dataset.value)},_onDisclosureToggleFocusOut:function(e){!1===this.container.contains(e.relatedTarget)&&this._hideList()},_onDisclosureListFocusOut:function(e){var t=e.currentTarget.contains(e.relatedTarget);this.cache.disclosureList.classList.contains(n)&&!t&&this._hideList()},_onDisclosureKeyUp:function(e){"Escape"===e.key&&(this._hideList(),this.cache.disclosureToggle.focus())},_onBodyClick:function(e){var t=this.container.contains(e.target);this.cache.disclosureList.classList.contains(n)&&!t&&this._hideList()},_submitForm:function(e){this.cache.disclosureInput.value=e,this.cache.disclosureForm.submit()},_hideList:function(){this.cache.disclosureList.setAttribute("inert",!0),this.cache.disclosureList.classList.remove(n),this.cache.disclosureToggle.setAttribute("aria-expanded",!1)},_toggleList:function(){var e="true"===this.cache.disclosureToggle.getAttribute("aria-expanded");e?this.cache.disclosureList.setAttribute("inert",!0):this.cache.disclosureList.removeAttribute("inert"),this.cache.disclosureList.classList.toggle(n),this.cache.disclosureList.classList.toggle(c),this.cache.disclosureToggle.setAttribute("aria-expanded",!e)},destroy:function(){this.cache.disclosureToggle.removeEventListener("click",this.eventHandlers.toggleList),this.cache.disclosureOptions.forEach((function(e){e.removeEventListener("click",this.eventHandlers.connectOptions)}),this),this.container.removeEventListener("keyup",this.eventHandlers.onDisclosureKeyUp),this.cache.disclosureList.removeEventListener("focusout",this.eventHandlers.onDisclosureListFocusOut),this.cache.disclosureToggle.removeEventListener("focusout",this.eventHandlers.onDisclosureToggleFocusOut),document.body.removeEventListener("click",this.eventHandlers.onBodyClick)}}),r}();var u=function(o,i){if("string"!=typeof o)throw new TypeError("Theme Sections: The first argument for .register must be a string that specifies the type of the section being registered");if(void 0!==t[o])throw new Error('Theme Sections: A section of type "'+o+'" has already been registered. You cannot register the same section type twice');function s(t){e.call(this,t,i)}return s.constructor=e,s.prototype=Object.create(e.prototype),s.prototype.type=o,t[o]=s}("footer",{onLoad(){this.selectors={disclosureLocale:"[data-disclosure-locale]",disclosureCountry:"[data-disclosure-country]"},this.cache={},this.cacheSelectors(),this.cache.localeDisclosure&&(this.localeDisclosure=new a(this.cache.localeDisclosure)),this.cache.countryDisclosure&&(this.countryDisclosure=new a(this.cache.countryDisclosure))},cacheSelectors(){this.cache={localeDisclosure:this.container.querySelector(this.selectors.disclosureLocale),countryDisclosure:this.container.querySelector(this.selectors.disclosureCountry)}},onUnload(){this.cache.localeDisclosure&&this.localeDisclosure.destroy(),this.cache.countryDisclosure&&this.countryDisclosure.destroy()}});i("footer");export{u as default};
