const t=function(){function t(t){this.container=t,window.Spruce.store("availability").product_title=this.container.dataset.productTitle}return t.prototype=Object.assign({},t.prototype,{fetchContent:function(t){if(!window.Spruce.store("availability").availability[t.id]){let i=this.container.dataset.baseUrl;i.endsWith("/")||(i+="/");const a=i+"variants/"+t.id+"/?section_id=store-availability";return window.Spruce.store("availability").loading=!0,fetch(a).then((function(t){return t.text()})).then((function(i){window.Spruce.store("availability").loading=!1,window.Spruce.store("availability").current_variant=t;let a="";const e=(new DOMParser).parseFromString(i,"text/html").querySelector("[data-availability-json]");e&&(a=JSON.parse(e.innerHTML)),window.Spruce.store("availability").availability[a.variant]=a.availability}))}window.Spruce.store("availability").current_variant=t}}),t}();window.StoreAvailability=t;
