function e(e){return Array.prototype.slice.call(e.querySelectorAll("[tabindex],[draggable],a[href],area,button:enabled,input:not([type=hidden]):enabled,object,select:enabled,textarea:enabled")).filter((function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}))}var t={};function n(n,a){a=a||{};var s=e(n),r=a.elementToFocus||n,c=s[0],d=s[s.length-1];o(),t.focusin=function(e){n===e.target||n.contains(e.target)||c.focus(),e.target!==n&&e.target!==d&&e.target!==c||document.addEventListener("keydown",t.keydown)},t.focusout=function(){document.removeEventListener("keydown",t.keydown)},t.keydown=function(e){9===e.keyCode&&(e.target!==d||e.shiftKey||(e.preventDefault(),c.focus()),e.target!==n&&e.target!==c||!e.shiftKey||(e.preventDefault(),d.focus()))},document.addEventListener("focusout",t.focusout),document.addEventListener("focusin",t.focusin),function(e,t){t=t||{};var n=e.tabIndex;e.tabIndex=-1,e.dataset.tabIndex=n,e.focus(),void 0!==t.className&&e.classList.add(t.className),e.addEventListener("blur",(function o(a){a.target.removeEventListener(a.type,o),e.tabIndex=n,delete e.dataset.tabIndex,void 0!==t.className&&e.classList.remove(t.className)}))}(r,a)}function o(){document.removeEventListener("focusin",t.focusin),document.removeEventListener("focusout",t.focusout),document.removeEventListener("keydown",t.keydown)}export{e as f,o as r,n as t};
